# 盒模型

内容来自https://developer.mozilla.org/zh-CN/docs/Learn/CSS/Building_blocks/The_box_model的学习总结

在css中，所有的元素都被一个个的盒子保卫着，理解这些盒子的基本原理，使我们使用css实现准确布局、处理元素排列的关键。

两种主要的盒子，**块级盒子、内联盒子**

html中有默认的块级盒子如p，h1~h6等；

默认的内联盒子如a，img，span等

## 块级盒子

一个**display为block的块级盒子**有如下表现

- 块级盒子会默认占满父容器宽度
- 块级盒子都会换行
- 块级盒子的width和height属性可以生效
- 块级盒子内边距padding，边框border，外边距margin会推开其他元素

## 内联盒子

一个**display为inline的内联盒子**有如下表现

- 内联盒子不会换行
- 内联盒子的width和height属性不会生效
- 内联盒子的内边距padding，边框border，外边距margin会生效，但是在水平方向可以推开其他元素，在垂直方向则不会，如下图所示

![image-20220528194234051](https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/imgimage-20220528194234051.png)

看看这个span元素的，我们给它设置了margin,padding是20px，看看它的表现

![image-20220528211259364](https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/imgimage-20220528211259364.png)

可以看出，在水平方向上，这个内联盒子的padding，border，margin都生效并且推开了其他的元素，但是这个内联盒子的垂直方向上虽然padding，border，margin都生效却并没有推开其他盒子，这就是内联盒子的特性之一。

**通过对盒子display属性的设置，比如inline和block来控制盒子的外部显示类型**

## 补充：内部与外部显示类型

css的盒子模型，有一个**外部显示类型，来决定盒子是块级还是内联，注意外部显示类型仅可以通过inline或block来设置**

![image-20220529123806233](https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/imgimage-20220529123806233.png)

同样盒模型还有内部显示类型，它决定了盒子内部元素是如何布局的，默认是按照正常文档流布局，这表示他们的表现和上述的一样。

> 如果display的属性值是block，inline，flex，table可以认为是block-block，inline-inline，flex-flex的，table-table的缩写。

> block和flex的区别，他们都会占满一行, flex默认包裹在一起的元素占一行（no-wrap）

但是，我们可以通过适用类似flex的display属性值来更改内部显示类型。如果设置`display: flex`,在一个元素上，则外部显示类型为`block`，但是内部类型是`flex`,所以该盒子的所有直接子元素都会成为flex元素，会根据弹性盒子规则布局。

## 盒模型组成

**完整的盒模型应用于块级盒子**，内联盒子只能使用盒模型中定义定义的部分内容，

盒模型的组成如下图所示

![image-20220529125513901](https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/imgimage-20220529125513901.png)

- content-box，内容区域，这个区域用来显示内容，大小可以通过width和height设置宽高
- padding-box，内边距，包围在内容区域外部，通过padding属性来设置
- border-box，边框，包围内容区和内边距，大小通过border属性设置
- margin-box，外边距，是一块透明的区域，标识和其他元素之间的距离，margin属性设置

### 标准盒模型

默认浏览器会使用标准模型

**在标准盒模型中，设置width和height的值，实际是设content-box的宽高**，

![image-20220529131540182](https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/imgimage-20220529131540182.png)

**而整个盒子的宽高是content-box，padding-box，border加在一起**

假设一个块级盒子有如下属性

~~~.box {
  .box {
      width: 350px;
      height: 150px;
      margin: 25px;
      padding: 25px;
      border: 5px solid black;
}
~~~

那么在标准盒模型下，它的宽度 = width +（padding + border）* 2 =  410 px；

高度 = height +（padding +border） * 2 = 210px

> 注意，margin并不计入实际大小，它只会影响盒子在页面所占空间，影响的是与其他元素的距离，盒子的范围到边框位置。

### 替代（IE）盒模型

你可能会认为计算盒子的大小还需要加上内边距和边框的，这样很麻烦，因为这个原因，css还有一个替代盒模型，使用这个盒模型，width和height就是设置了整个盒子的宽高，所以内容区域的宽度就是width减去边框和内边距部分，如下图所示

![image-20220529132239126](https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/imgimage-20220529132239126.png)

如何使用替代模型，**通过设置box-sizing：border-box**来实现

~~~
.box {
  box-sizing: border-box;
}
~~~

> 如果希望所有的元素都是用替代盒模型，可以设置`box-sizing`属性到<html>元素上，然后设置所有元素集成该属性，如下面代码所示，如果想要深入理解，请看 [the CSS Tricks article on box-sizing](https://css-tricks.com/inheriting-box-sizing-probably-slightly-better-best-practice/)

~~~css
html {
    box-sizing: border-box;
}
*, *::before, *::after {
	box-sizing: inherit;
}
~~~

## 内外边距，边框

padding，border，margin都是简写属性

记住上右下左的设置顺序就好了，三个就是上-左右-下，两个就是上下-左右

## inline-block

这个display值既能在同一行，又可以设置宽高，同时padding，border，marign会推开其他元素

当您想要通过添加内边距使链接具有更大的命中区域时，这是很有用的。`<a>`是像`<span`>一样的内联元素；你可以使用`display: inline-block`来设置内边距，让用户更容易点击链接。